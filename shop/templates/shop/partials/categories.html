<div class="h-100 bg-light rounded p-3">

    {% if categories %}
        <div class="scrollable">

            <table class="table table-bordered table-striped">

                <thead class="thead-dark">
                <tr>
                    <th>Full Path</th>
                    <th class="text-center" data-toggle="tooltip" title="Direct children"><i class="fas fa-sitemap"></i></th>
                    <th class="text-center" data-toggle="tooltip" title="Products"><i class="fas fa-grip-horizontal"></i></th>
                    <th class="text-center" data-toggle="tooltip" title="Actions"><i class="fas fa-tools"></i></th>
                </tr>
                </thead>

                {% for category in categories %}
                    <tr>
                        <td><a href="{% url 'category_update' category.id %}" data-toggle="tooltip"
                               title="{{ category.description }}">{{ category }} </a></td>
                        <td class="text-center">{{ category.sub_categories.all|length }}</td>
                        <td class="text-center">{{ category.products.all|length }}</td>
                        <td class="text-center">
                            {% if category.products.all or category.sub_categories.all %}
                                <a href="{% url 'shop' category.id %}" class="btn btn-success"
                                   data-toggle="tooltip" title="View"><i class="far fa-eye"></i></a>
                            {% else %}
                                <a href="{% url 'category_delete' category.id %}" class="btn btn-danger"
                                   data-toggle="tooltip" title="Delete"><i class="far fa-trash-alt"></i></a>
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}

            </table>
        </div>

    {% else %}
        <p class="display-4 text-center">No Categories</p>
    {% endif %}

</div>
